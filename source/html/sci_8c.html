<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: sci.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sci.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>SCI Driver Implementation File.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;sci.h&quot;</code><br />
<code>#include &quot;sys_vim.h&quot;</code><br />
<code>#include &quot;math.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>g_sciTransfer</b></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt mode globals. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae8a1d6b7274ed1af263d57fab032096a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#ae8a1d6b7274ed1af263d57fab032096a">sciInit</a> (void)</td></tr>
<tr class="memdesc:ae8a1d6b7274ed1af263d57fab032096a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the SCI Driver.  <br /></td></tr>
<tr class="separator:ae8a1d6b7274ed1af263d57fab032096a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bf2ae4e9ca71949190dd967b406b931"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a2bf2ae4e9ca71949190dd967b406b931">sciSetFunctional</a> (sciBASE_t *sci, uint32 port)</td></tr>
<tr class="memdesc:a2bf2ae4e9ca71949190dd967b406b931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change functional behavior of pins at runtime.  <br /></td></tr>
<tr class="separator:a2bf2ae4e9ca71949190dd967b406b931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d4f604e2151ca596b1e0fcca6f5606"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a35d4f604e2151ca596b1e0fcca6f5606">sciSetBaudrate</a> (sciBASE_t *sci, uint32 baud)</td></tr>
<tr class="memdesc:a35d4f604e2151ca596b1e0fcca6f5606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change baudrate at runtime.  <br /></td></tr>
<tr class="separator:a35d4f604e2151ca596b1e0fcca6f5606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd91cc5c28a92fa211e96e06b3fc34c"><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#aafd91cc5c28a92fa211e96e06b3fc34c">sciIsTxReady</a> (sciBASE_t *sci)</td></tr>
<tr class="memdesc:aafd91cc5c28a92fa211e96e06b3fc34c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if Tx buffer empty.  <br /></td></tr>
<tr class="separator:aafd91cc5c28a92fa211e96e06b3fc34c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8803e9ddc05ea93c80a768d0fc0eab16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a8803e9ddc05ea93c80a768d0fc0eab16">sciSendByte</a> (sciBASE_t *sci, uint8 byte)</td></tr>
<tr class="memdesc:a8803e9ddc05ea93c80a768d0fc0eab16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send Byte.  <br /></td></tr>
<tr class="separator:a8803e9ddc05ea93c80a768d0fc0eab16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a24e75961adf4102892d78e9620c042"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a0a24e75961adf4102892d78e9620c042">sciSend</a> (sciBASE_t *sci, uint32 length, uint8 *data)</td></tr>
<tr class="memdesc:a0a24e75961adf4102892d78e9620c042"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send Data.  <br /></td></tr>
<tr class="separator:a0a24e75961adf4102892d78e9620c042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030ca3a9ad5bf48a7215be9d4078ad49"><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a030ca3a9ad5bf48a7215be9d4078ad49">sciIsRxReady</a> (sciBASE_t *sci)</td></tr>
<tr class="memdesc:a030ca3a9ad5bf48a7215be9d4078ad49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if Rx buffer full.  <br /></td></tr>
<tr class="separator:a030ca3a9ad5bf48a7215be9d4078ad49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb100a9163984ca6c9a69133b8eba657"><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#abb100a9163984ca6c9a69133b8eba657">sciIsIdleDetected</a> (sciBASE_t *sci)</td></tr>
<tr class="memdesc:abb100a9163984ca6c9a69133b8eba657"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if Idle Period is Detected.  <br /></td></tr>
<tr class="separator:abb100a9163984ca6c9a69133b8eba657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36cb42a55bca0fe4e76f3b994fb6dfc4"><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a36cb42a55bca0fe4e76f3b994fb6dfc4">sciRxError</a> (sciBASE_t *sci)</td></tr>
<tr class="memdesc:a36cb42a55bca0fe4e76f3b994fb6dfc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return Rx Error flags.  <br /></td></tr>
<tr class="separator:a36cb42a55bca0fe4e76f3b994fb6dfc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec2932431dfdcdef7c3aba3da9cf4fe7"><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#aec2932431dfdcdef7c3aba3da9cf4fe7">sciReceiveByte</a> (sciBASE_t *sci)</td></tr>
<tr class="memdesc:aec2932431dfdcdef7c3aba3da9cf4fe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive Byte.  <br /></td></tr>
<tr class="separator:aec2932431dfdcdef7c3aba3da9cf4fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2452fb07e6ad52632e100fed774f9087"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a2452fb07e6ad52632e100fed774f9087">sciReceive</a> (sciBASE_t *sci, uint32 length, uint8 *data)</td></tr>
<tr class="memdesc:a2452fb07e6ad52632e100fed774f9087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive Data.  <br /></td></tr>
<tr class="separator:a2452fb07e6ad52632e100fed774f9087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36302e2a67c26b3557c66ccb267c1760"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a36302e2a67c26b3557c66ccb267c1760">sciEnableLoopback</a> (sciBASE_t *sci, loopBackType_t Loopbacktype)</td></tr>
<tr class="memdesc:a36302e2a67c26b3557c66ccb267c1760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable Loopback mode for self test.  <br /></td></tr>
<tr class="separator:a36302e2a67c26b3557c66ccb267c1760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6568eda24f29b1b31bd09a5f665b5f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#ae6568eda24f29b1b31bd09a5f665b5f8">sciDisableLoopback</a> (sciBASE_t *sci)</td></tr>
<tr class="memdesc:ae6568eda24f29b1b31bd09a5f665b5f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable Loopback mode for self test.  <br /></td></tr>
<tr class="separator:ae6568eda24f29b1b31bd09a5f665b5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad14ca1b90c313254407d318eceaa1f46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#ad14ca1b90c313254407d318eceaa1f46">sciEnableNotification</a> (sciBASE_t *sci, uint32 flags)</td></tr>
<tr class="memdesc:ad14ca1b90c313254407d318eceaa1f46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable interrupts.  <br /></td></tr>
<tr class="separator:ad14ca1b90c313254407d318eceaa1f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f1a39a5272682dbd101ddcbbbdc8193"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a9f1a39a5272682dbd101ddcbbbdc8193">sciDisableNotification</a> (sciBASE_t *sci, uint32 flags)</td></tr>
<tr class="memdesc:a9f1a39a5272682dbd101ddcbbbdc8193"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable interrupts.  <br /></td></tr>
<tr class="separator:a9f1a39a5272682dbd101ddcbbbdc8193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a695b0bd0cb87fd2a0542f784fc94aa06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a695b0bd0cb87fd2a0542f784fc94aa06">sciEnterResetState</a> (sciBASE_t *sci)</td></tr>
<tr class="memdesc:a695b0bd0cb87fd2a0542f784fc94aa06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter reset state.  <br /></td></tr>
<tr class="separator:a695b0bd0cb87fd2a0542f784fc94aa06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec6735d45ea69caf0abe5919f04d538"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a3ec6735d45ea69caf0abe5919f04d538">sciExitResetState</a> (sciBASE_t *sci)</td></tr>
<tr class="separator:a3ec6735d45ea69caf0abe5919f04d538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2418574fe9c3d642db1f134926ac6934"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a2418574fe9c3d642db1f134926ac6934">scilinGetConfigValue</a> (sci_config_reg_t *config_reg, config_value_type_t type)</td></tr>
<tr class="memdesc:a2418574fe9c3d642db1f134926ac6934"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the initial or current values of the SCILIN ( SCI2) configuration registers.  <br /></td></tr>
<tr class="separator:a2418574fe9c3d642db1f134926ac6934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8068218df1b05a56cfad35be668c34a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html#a8068218df1b05a56cfad35be668c34a2">linHighLevelInterrupt</a> (void)</td></tr>
<tr class="memdesc:a8068218df1b05a56cfad35be668c34a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Level 0 Interrupt for SCILIN.  <br /></td></tr>
<tr class="separator:a8068218df1b05a56cfad35be668c34a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SCI Driver Implementation File. </p>
<dl class="section date"><dt>Date</dt><dd>11-Dec-2018 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>04.07.01 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8068218df1b05a56cfad35be668c34a2" name="a8068218df1b05a56cfad35be668c34a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8068218df1b05a56cfad35be668c34a2">&#9670;&#160;</a></span>linHighLevelInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void linHighLevelInterrupt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Level 0 Interrupt for SCILIN. </p>
<div class="fragment"><div class="line"><span class="lineno">  677</span>{</div>
<div class="line"><span class="lineno">  678</span>    uint32 vec = scilinREG-&gt;INTVECT0;</div>
<div class="line"><span class="lineno">  679</span>    uint8 byte;</div>
<div class="line"><span class="lineno">  680</span><span class="comment">/* USER CODE BEGIN (29) */</span></div>
<div class="line"><span class="lineno">  681</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">switch</span> (vec)</div>
<div class="line"><span class="lineno">  684</span>    {</div>
<div class="line"><span class="lineno">  685</span>    <span class="keywordflow">case</span> 1U:</div>
<div class="line"><span class="lineno">  686</span>        <a class="code hl_function" href="_ascii___convert_8c.html#ac25800424a38ab1b3b0960f6b7cc4bc8">sciNotification</a>(scilinREG, (uint32)SCI_WAKE_INT);</div>
<div class="line"><span class="lineno">  687</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  688</span>    <span class="keywordflow">case</span> 3U:</div>
<div class="line"><span class="lineno">  689</span>        <a class="code hl_function" href="_ascii___convert_8c.html#ac25800424a38ab1b3b0960f6b7cc4bc8">sciNotification</a>(scilinREG, (uint32)SCI_PE_INT);</div>
<div class="line"><span class="lineno">  690</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  691</span>    <span class="keywordflow">case</span> 6U:</div>
<div class="line"><span class="lineno">  692</span>        <a class="code hl_function" href="_ascii___convert_8c.html#ac25800424a38ab1b3b0960f6b7cc4bc8">sciNotification</a>(scilinREG, (uint32)SCI_FE_INT);</div>
<div class="line"><span class="lineno">  693</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  694</span>    <span class="keywordflow">case</span> 7U:</div>
<div class="line"><span class="lineno">  695</span>        <a class="code hl_function" href="_ascii___convert_8c.html#ac25800424a38ab1b3b0960f6b7cc4bc8">sciNotification</a>(scilinREG, (uint32)SCI_BREAK_INT);</div>
<div class="line"><span class="lineno">  696</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  697</span>    <span class="keywordflow">case</span> 9U:</div>
<div class="line"><span class="lineno">  698</span>        <a class="code hl_function" href="_ascii___convert_8c.html#ac25800424a38ab1b3b0960f6b7cc4bc8">sciNotification</a>(scilinREG, (uint32)SCI_OE_INT);</div>
<div class="line"><span class="lineno">  699</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>    <span class="keywordflow">case</span> 11U:</div>
<div class="line"><span class="lineno">  702</span>        <span class="comment">/* receive */</span></div>
<div class="line"><span class="lineno">  703</span>            <span class="keywordtype">byte</span> = (uint8)(scilinREG-&gt;RD &amp; 0x000000FFU);</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>            <span class="keywordflow">if</span> (g_sciTransfer_t.rx_length &gt; 0U)</div>
<div class="line"><span class="lineno">  706</span>            {</div>
<div class="line"><span class="lineno">  707</span>                *g_sciTransfer_t.rx_data = byte;</div>
<div class="line"><span class="lineno">  708</span>                <span class="comment">/*SAFETYMCUSW 567 S MR:17.1,17.4 &lt;APPROVED&gt; &quot;Pointer increment needed&quot; */</span></div>
<div class="line"><span class="lineno">  709</span>                g_sciTransfer_t.rx_data++;</div>
<div class="line"><span class="lineno">  710</span>                g_sciTransfer_t.rx_length--;</div>
<div class="line"><span class="lineno">  711</span>                <span class="keywordflow">if</span> (g_sciTransfer_t.rx_length == 0U)</div>
<div class="line"><span class="lineno">  712</span>                {</div>
<div class="line"><span class="lineno">  713</span>                    <a class="code hl_function" href="_ascii___convert_8c.html#ac25800424a38ab1b3b0960f6b7cc4bc8">sciNotification</a>(scilinREG, (uint32)SCI_RX_INT);</div>
<div class="line"><span class="lineno">  714</span>                }</div>
<div class="line"><span class="lineno">  715</span>            }</div>
<div class="line"><span class="lineno">  716</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>    <span class="keywordflow">case</span> 12U:</div>
<div class="line"><span class="lineno">  719</span>        <span class="comment">/* transmit */</span></div>
<div class="line"><span class="lineno">  720</span>        <span class="comment">/*SAFETYMCUSW 30 S MR:12.2,12.3 &lt;APPROVED&gt; &quot;Used for data count in Transmit/Receive polling and Interrupt mode&quot; */</span></div>
<div class="line"><span class="lineno">  721</span>        --g_sciTransfer_t.tx_length;</div>
<div class="line"><span class="lineno">  722</span>        <span class="keywordflow">if</span> ((g_sciTransfer_t.tx_length) &gt; 0U)</div>
<div class="line"><span class="lineno">  723</span>        {</div>
<div class="line"><span class="lineno">  724</span>            uint8 txdata = *g_sciTransfer_t.tx_data;</div>
<div class="line"><span class="lineno">  725</span>            scilinREG-&gt;TD = (uint32)(txdata);</div>
<div class="line"><span class="lineno">  726</span>            <span class="comment">/*SAFETYMCUSW 567 S MR:17.1,17.4 &lt;APPROVED&gt; &quot;Pointer increment needed&quot; */</span></div>
<div class="line"><span class="lineno">  727</span>            g_sciTransfer_t.tx_data++;</div>
<div class="line"><span class="lineno">  728</span>        }</div>
<div class="line"><span class="lineno">  729</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  730</span>        {</div>
<div class="line"><span class="lineno">  731</span>            scilinREG-&gt;CLEARINT = SCI_TX_INT;</div>
<div class="line"><span class="lineno">  732</span>            <a class="code hl_function" href="_ascii___convert_8c.html#ac25800424a38ab1b3b0960f6b7cc4bc8">sciNotification</a>(scilinREG, (uint32)SCI_TX_INT);</div>
<div class="line"><span class="lineno">  733</span>        }</div>
<div class="line"><span class="lineno">  734</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  737</span>        <span class="comment">/* phantom interrupt, clear flags and return */</span></div>
<div class="line"><span class="lineno">  738</span>        scilinREG-&gt;FLR = ~scilinREG-&gt;SETINTLVL &amp; 0x07000303U;</div>
<div class="line"><span class="lineno">  739</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  740</span>    }</div>
<div class="line"><span class="lineno">  741</span><span class="comment">/* USER CODE BEGIN (30) */</span></div>
<div class="line"><span class="lineno">  742</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  743</span>}</div>
<div class="ttc" id="a_ascii___convert_8c_html_ac25800424a38ab1b3b0960f6b7cc4bc8"><div class="ttname"><a href="_ascii___convert_8c.html#ac25800424a38ab1b3b0960f6b7cc4bc8">sciNotification</a></div><div class="ttdeci">void sciNotification(sciBASE_t *sci, uint32 flags)</div><div class="ttdef"><b>Definition:</b> Ascii_Convert.c:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6568eda24f29b1b31bd09a5f665b5f8" name="ae6568eda24f29b1b31bd09a5f665b5f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6568eda24f29b1b31bd09a5f665b5f8">&#9670;&#160;</a></span>sciDisableLoopback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sciDisableLoopback </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable Loopback mode for self test. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address</td></tr>
  </table>
  </dd>
</dl>
<p>This function disable the Loopback mode. </p>
<div class="fragment"><div class="line"><span class="lineno">  521</span>{</div>
<div class="line"><span class="lineno">  522</span><span class="comment">/* USER CODE BEGIN (21) */</span></div>
<div class="line"><span class="lineno">  523</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  524</span>    </div>
<div class="line"><span class="lineno">  525</span>    <span class="comment">/* Disable Loopback Mode */</span></div>
<div class="line"><span class="lineno">  526</span>    sci-&gt;IODFTCTRL = 0x00000500U;</div>
<div class="line"><span class="lineno">  527</span>    </div>
<div class="line"><span class="lineno">  528</span><span class="comment">/* USER CODE BEGIN (22) */</span></div>
<div class="line"><span class="lineno">  529</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  530</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f1a39a5272682dbd101ddcbbbdc8193" name="a9f1a39a5272682dbd101ddcbbbdc8193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f1a39a5272682dbd101ddcbbbdc8193">&#9670;&#160;</a></span>sciDisableNotification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sciDisableNotification </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- Interrupts to be disabled, can be ored value of: SCI_FE_INT - framing error, SCI_OE_INT - overrun error, SCI_PE_INT - parity error, SCI_RX_INT - receive buffer ready, SCI_TX_INT - transmit buffer ready, SCI_WAKE_INT - wakeup, SCI_BREAK_INT - break detect </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  577</span>{</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span><span class="comment">/* USER CODE BEGIN (25) */</span></div>
<div class="line"><span class="lineno">  580</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>    g_sciTransfer_t.mode &amp;= (uint32)(~(flags &amp; (uint32)SCI_TX_INT));</div>
<div class="line"><span class="lineno">  583</span>    sci-&gt;CLEARINT                = (flags &amp; (uint32)(~(uint32)(SCI_TX_INT)));</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span><span class="comment">/* USER CODE BEGIN (26) */</span></div>
<div class="line"><span class="lineno">  586</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  587</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a36302e2a67c26b3557c66ccb267c1760" name="a36302e2a67c26b3557c66ccb267c1760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36302e2a67c26b3557c66ccb267c1760">&#9670;&#160;</a></span>sciEnableLoopback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sciEnableLoopback </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loopBackType_t&#160;</td>
          <td class="paramname"><em>Loopbacktype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable Loopback mode for self test. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Loopbacktype</td><td>- Digital or Analog</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables the Loopback mode for self test. </p>
<div class="fragment"><div class="line"><span class="lineno">  496</span>{</div>
<div class="line"><span class="lineno">  497</span><span class="comment">/* USER CODE BEGIN (19) */</span></div>
<div class="line"><span class="lineno">  498</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  499</span>    </div>
<div class="line"><span class="lineno">  500</span>    <span class="comment">/* Clear Loopback incase enabled already */</span></div>
<div class="line"><span class="lineno">  501</span>    sci-&gt;IODFTCTRL = 0U;</div>
<div class="line"><span class="lineno">  502</span>    </div>
<div class="line"><span class="lineno">  503</span>    <span class="comment">/* Enable Loopback either in Analog or Digital Mode */</span></div>
<div class="line"><span class="lineno">  504</span>    sci-&gt;IODFTCTRL = (uint32)0x00000A00U</div>
<div class="line"><span class="lineno">  505</span>                   | (uint32)((uint32)Loopbacktype &lt;&lt; 1U);</div>
<div class="line"><span class="lineno">  506</span>    </div>
<div class="line"><span class="lineno">  507</span><span class="comment">/* USER CODE BEGIN (20) */</span></div>
<div class="line"><span class="lineno">  508</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  509</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad14ca1b90c313254407d318eceaa1f46" name="ad14ca1b90c313254407d318eceaa1f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad14ca1b90c313254407d318eceaa1f46">&#9670;&#160;</a></span>sciEnableNotification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sciEnableNotification </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- Interrupts to be enabled, can be ored value of: SCI_FE_INT - framing error, SCI_OE_INT - overrun error, SCI_PE_INT - parity error, SCI_RX_INT - receive buffer ready, SCI_TX_INT - transmit buffer ready, SCI_WAKE_INT - wakeup, SCI_BREAK_INT - break detect </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  548</span>{</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span><span class="comment">/* USER CODE BEGIN (23) */</span></div>
<div class="line"><span class="lineno">  551</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>    g_sciTransfer_t.mode |= (flags &amp; (uint32)SCI_TX_INT);</div>
<div class="line"><span class="lineno">  554</span>    sci-&gt;SETINT                = (flags &amp; (uint32)(~(uint32)(SCI_TX_INT)));</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span><span class="comment">/* USER CODE BEGIN (24) */</span></div>
<div class="line"><span class="lineno">  557</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  558</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a695b0bd0cb87fd2a0542f784fc94aa06" name="a695b0bd0cb87fd2a0542f784fc94aa06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a695b0bd0cb87fd2a0542f784fc94aa06">&#9670;&#160;</a></span>sciEnterResetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sciEnterResetState </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enter reset state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The SCI should only be configured while in reset state </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  598</span>{</div>
<div class="line"><span class="lineno">  599</span>    sci-&gt;GCR1 &amp;= 0xFFFFFF7FU;</div>
<div class="line"><span class="lineno">  600</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ec6735d45ea69caf0abe5919f04d538" name="a3ec6735d45ea69caf0abe5919f04d538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec6735d45ea69caf0abe5919f04d538">&#9670;&#160;</a></span>sciExitResetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sciExitResetState </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  611</span>{</div>
<div class="line"><span class="lineno">  612</span>    sci-&gt;GCR1 |= 0x00000080U;</div>
<div class="line"><span class="lineno">  613</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8a1d6b7274ed1af263d57fab032096a" name="ae8a1d6b7274ed1af263d57fab032096a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a1d6b7274ed1af263d57fab032096a">&#9670;&#160;</a></span>sciInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sciInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the SCI Driver. </p>
<p>This function initializes the SCI module. </p>
<p><b>initialize</b> <b>SCILIN</b> </p>
<ul>
<li>bring SCI out of reset</li>
<li>Disable all interrupts</li>
<li>global control 1</li>
<li>set baudrate</li>
<li>transmission length</li>
<li>set SCI pins functional mode</li>
<li>set SCI pins default output value</li>
<li>set SCI pins output direction</li>
<li>set SCI pins open drain enable</li>
<li>set SCI pins pullup/pulldown enable</li>
<li>set SCI pins pullup/pulldown select</li>
<li>set interrupt level</li>
<li>set interrupt enable</li>
<li>initialize global transfer variables</li>
<li>Finaly start SCILIN</li>
</ul>
<div class="fragment"><div class="line"><span class="lineno">   75</span>{</div>
<div class="line"><span class="lineno">   76</span><span class="comment">/* USER CODE BEGIN (2) */</span></div>
<div class="line"><span class="lineno">   77</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   82</span>    scilinREG-&gt;GCR0 = 0U;</div>
<div class="line"><span class="lineno">   83</span>    scilinREG-&gt;GCR0 = 1U;</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   86</span>    scilinREG-&gt;CLEARINT    = 0xFFFFFFFFU;</div>
<div class="line"><span class="lineno">   87</span>    scilinREG-&gt;CLEARINTLVL = 0xFFFFFFFFU;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   90</span>    scilinREG-&gt;GCR1 = (uint32)((uint32)1U &lt;&lt; 25U)  <span class="comment">/* enable transmit */</span></div>
<div class="line"><span class="lineno">   91</span>                    | (uint32)((uint32)1U &lt;&lt; 24U)  <span class="comment">/* enable receive */</span></div>
<div class="line"><span class="lineno">   92</span>                    | (uint32)((uint32)1U &lt;&lt; 5U)   <span class="comment">/* internal clock (device has no clock pin) */</span></div>
<div class="line"><span class="lineno">   93</span>                    | (uint32)((uint32)(2U-1U) &lt;&lt; 4U)  <span class="comment">/* number of stop bits */</span></div>
<div class="line"><span class="lineno">   94</span>                    | (uint32)((uint32)0U &lt;&lt; 3U)  <span class="comment">/* even parity, otherwise odd */</span></div>
<div class="line"><span class="lineno">   95</span>                    | (uint32)((uint32)0U &lt;&lt; 2U)  <span class="comment">/* enable parity */</span></div>
<div class="line"><span class="lineno">   96</span>                    | (uint32)((uint32)1U &lt;&lt; 1U);  <span class="comment">/* asynchronous timing mode */</span></div>
<div class="line"><span class="lineno">   97</span>                    </div>
<div class="line"><span class="lineno">   99</span>    scilinREG-&gt;BRS = 42U;  <span class="comment">/* baudrate */</span></div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  102</span>    scilinREG-&gt;FORMAT = 8U - 1U;  <span class="comment">/* length */</span></div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  105</span>    scilinREG-&gt;PIO0 = (uint32)((uint32)1U &lt;&lt; 2U)  <span class="comment">/* tx pin */</span></div>
<div class="line"><span class="lineno">  106</span>                    | (uint32)((uint32)1U &lt;&lt; 1U); <span class="comment">/* rx pin */</span></div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  110</span>    scilinREG-&gt;PIO3 = (uint32)((uint32)0U &lt;&lt; 2U)  <span class="comment">/* tx pin */</span></div>
<div class="line"><span class="lineno">  111</span>                    | (uint32)((uint32)0U &lt;&lt; 1U); <span class="comment">/* rx pin */</span></div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  115</span>    scilinREG-&gt;PIO1 = (uint32)((uint32)0U &lt;&lt; 2U)  <span class="comment">/* tx pin */</span></div>
<div class="line"><span class="lineno">  116</span>                    | (uint32)((uint32)0U &lt;&lt; 1U); <span class="comment">/* rx pin */</span></div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  120</span>    scilinREG-&gt;PIO6 = (uint32)((uint32)0U &lt;&lt; 2U)  <span class="comment">/* tx pin */</span></div>
<div class="line"><span class="lineno">  121</span>                    | (uint32)((uint32)0U &lt;&lt; 1U); <span class="comment">/* rx pin */</span></div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  125</span>    scilinREG-&gt;PIO7 = (uint32)((uint32)0U &lt;&lt; 2U)  <span class="comment">/* tx pin */</span></div>
<div class="line"><span class="lineno">  126</span>                    | (uint32)((uint32)0U &lt;&lt; 1U); <span class="comment">/* rx pin */</span></div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  130</span>    scilinREG-&gt;PIO8 = (uint32)((uint32)1U &lt;&lt; 2U)  <span class="comment">/* tx pin */</span></div>
<div class="line"><span class="lineno">  131</span>                    | (uint32)((uint32)1U &lt;&lt; 1U); <span class="comment">/* rx pin */</span></div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  135</span>    scilinREG-&gt;SETINTLVL = (uint32)((uint32)0U &lt;&lt; 26U)  <span class="comment">/* Framing error */</span></div>
<div class="line"><span class="lineno">  136</span>                         | (uint32)((uint32)0U &lt;&lt; 25U)  <span class="comment">/* Overrun error */</span></div>
<div class="line"><span class="lineno">  137</span>                         | (uint32)((uint32)0U &lt;&lt; 24U)  <span class="comment">/* Parity error */</span></div>
<div class="line"><span class="lineno">  138</span>                         | (uint32)((uint32)0U &lt;&lt; 9U)  <span class="comment">/* Receive */</span></div>
<div class="line"><span class="lineno">  139</span>                         | (uint32)((uint32)0U &lt;&lt; 8U)  <span class="comment">/* Transmit */</span></div>
<div class="line"><span class="lineno">  140</span>                         | (uint32)((uint32)0U &lt;&lt; 1U)  <span class="comment">/* Wakeup */</span></div>
<div class="line"><span class="lineno">  141</span>                         | (uint32)((uint32)0U &lt;&lt; 0U);  <span class="comment">/* Break detect */</span></div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  144</span>    scilinREG-&gt;SETINT = (uint32)((uint32)0U &lt;&lt; 26U)  <span class="comment">/* Framing error */</span></div>
<div class="line"><span class="lineno">  145</span>                      | (uint32)((uint32)0U &lt;&lt; 25U)  <span class="comment">/* Overrun error */</span></div>
<div class="line"><span class="lineno">  146</span>                      | (uint32)((uint32)0U &lt;&lt; 24U)  <span class="comment">/* Parity error */</span></div>
<div class="line"><span class="lineno">  147</span>                      | (uint32)((uint32)1U &lt;&lt; 9U)  <span class="comment">/* Receive */</span></div>
<div class="line"><span class="lineno">  148</span>                      | (uint32)((uint32)0U &lt;&lt; 1U)  <span class="comment">/* Wakeup */</span></div>
<div class="line"><span class="lineno">  149</span>                      | (uint32)((uint32)0U);  <span class="comment">/* Break detect */</span></div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  152</span>    g_sciTransfer_t.mode      = (uint32)0U &lt;&lt; 8U;</div>
<div class="line"><span class="lineno">  153</span>    g_sciTransfer_t.tx_length = 0U;</div>
<div class="line"><span class="lineno">  154</span>    g_sciTransfer_t.rx_length = 0U;</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  157</span>    scilinREG-&gt;GCR1 |= 0x80U;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span><span class="comment">/* USER CODE BEGIN (3) */</span></div>
<div class="line"><span class="lineno">  160</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  161</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abb100a9163984ca6c9a69133b8eba657" name="abb100a9163984ca6c9a69133b8eba657"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb100a9163984ca6c9a69133b8eba657">&#9670;&#160;</a></span>sciIsIdleDetected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 sciIsIdleDetected </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if Idle Period is Detected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The Idle flag</dd></dl>
<p>Checks to see if the SCI Idle flag is set, returns 0 is flags not set otherwise will return the Ilde flag itself. </p>
<div class="fragment"><div class="line"><span class="lineno">  370</span>{</div>
<div class="line"><span class="lineno">  371</span><span class="comment">/* USER CODE BEGIN (14) */</span></div>
<div class="line"><span class="lineno">  372</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordflow">return</span> sci-&gt;FLR &amp; (uint32)SCI_IDLE;</div>
<div class="line"><span class="lineno">  375</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a030ca3a9ad5bf48a7215be9d4078ad49" name="a030ca3a9ad5bf48a7215be9d4078ad49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030ca3a9ad5bf48a7215be9d4078ad49">&#9670;&#160;</a></span>sciIsRxReady()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 sciIsRxReady </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if Rx buffer full. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The Rx ready flag</dd></dl>
<p>Checks to see if the Rx buffer full flag is set, returns 0 is flags not set otherwise will return the Rx flag itself. </p>
<div class="fragment"><div class="line"><span class="lineno">  350</span>{</div>
<div class="line"><span class="lineno">  351</span><span class="comment">/* USER CODE BEGIN (13) */</span></div>
<div class="line"><span class="lineno">  352</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">return</span> sci-&gt;FLR &amp; (uint32)SCI_RX_INT;</div>
<div class="line"><span class="lineno">  355</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aafd91cc5c28a92fa211e96e06b3fc34c" name="aafd91cc5c28a92fa211e96e06b3fc34c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd91cc5c28a92fa211e96e06b3fc34c">&#9670;&#160;</a></span>sciIsTxReady()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 sciIsTxReady </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if Tx buffer empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The TX ready flag</dd></dl>
<p>Checks to see if the Tx buffer ready flag is set, returns 0 is flags not set otherwise will return the Tx flag itself. </p>
<div class="fragment"><div class="line"><span class="lineno">  231</span>{</div>
<div class="line"><span class="lineno">  232</span><span class="comment">/* USER CODE BEGIN (8) */</span></div>
<div class="line"><span class="lineno">  233</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">return</span> sci-&gt;FLR &amp; (uint32)SCI_TX_INT;</div>
<div class="line"><span class="lineno">  236</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2418574fe9c3d642db1f134926ac6934" name="a2418574fe9c3d642db1f134926ac6934"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2418574fe9c3d642db1f134926ac6934">&#9670;&#160;</a></span>scilinGetConfigValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scilinGetConfigValue </td>
          <td>(</td>
          <td class="paramtype">sci_config_reg_t *&#160;</td>
          <td class="paramname"><em>config_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">config_value_type_t&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the initial or current values of the SCILIN ( SCI2) configuration registers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*config_reg</td><td>pointer to the struct to which the initial or current value of the configuration registers need to be stored </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>whether initial or current value of the configuration registers need to be stored<ul>
<li>InitialValue: initial value of the configuration registers will be stored in the struct pointed by config_reg</li>
<li>CurrentValue: initial value of the configuration registers will be stored in the struct pointed by config_reg</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>This function will copy the initial or current value (depending on the parameter 'type') of the configuration registers to the struct pointed by config_reg </p>
<div class="fragment"><div class="line"><span class="lineno">  635</span>{</div>
<div class="line"><span class="lineno">  636</span>    <span class="keywordflow">if</span> (type == InitialValue)</div>
<div class="line"><span class="lineno">  637</span>    {</div>
<div class="line"><span class="lineno">  638</span>        config_reg-&gt;CONFIG_GCR0      = SCILIN_GCR0_CONFIGVALUE;</div>
<div class="line"><span class="lineno">  639</span>        config_reg-&gt;CONFIG_GCR1      = SCILIN_GCR1_CONFIGVALUE;</div>
<div class="line"><span class="lineno">  640</span>        config_reg-&gt;CONFIG_SETINT    = SCILIN_SETINT_CONFIGVALUE;</div>
<div class="line"><span class="lineno">  641</span>        config_reg-&gt;CONFIG_SETINTLVL = SCILIN_SETINTLVL_CONFIGVALUE;</div>
<div class="line"><span class="lineno">  642</span>        config_reg-&gt;CONFIG_FORMAT    = SCILIN_FORMAT_CONFIGVALUE;</div>
<div class="line"><span class="lineno">  643</span>        config_reg-&gt;CONFIG_BRS       = SCILIN_BRS_CONFIGVALUE;</div>
<div class="line"><span class="lineno">  644</span>        config_reg-&gt;CONFIG_PIO0      = SCILIN_PIO0_CONFIGVALUE;</div>
<div class="line"><span class="lineno">  645</span>        config_reg-&gt;CONFIG_PIO1      = SCILIN_PIO1_CONFIGVALUE;</div>
<div class="line"><span class="lineno">  646</span>        config_reg-&gt;CONFIG_PIO6      = SCILIN_PIO6_CONFIGVALUE;</div>
<div class="line"><span class="lineno">  647</span>        config_reg-&gt;CONFIG_PIO7      = SCILIN_PIO7_CONFIGVALUE;</div>
<div class="line"><span class="lineno">  648</span>        config_reg-&gt;CONFIG_PIO8      = SCILIN_PIO8_CONFIGVALUE; </div>
<div class="line"><span class="lineno">  649</span>    }</div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  651</span>    {</div>
<div class="line"><span class="lineno">  652</span>    <span class="comment">/*SAFETYMCUSW 134 S MR:12.2 &lt;APPROVED&gt; &quot;LDRA Tool issue&quot; */</span></div>
<div class="line"><span class="lineno">  653</span>        config_reg-&gt;CONFIG_GCR0      = scilinREG-&gt;GCR0;</div>
<div class="line"><span class="lineno">  654</span>        config_reg-&gt;CONFIG_GCR1      = scilinREG-&gt;GCR1; </div>
<div class="line"><span class="lineno">  655</span>        config_reg-&gt;CONFIG_SETINT    = scilinREG-&gt;SETINT; </div>
<div class="line"><span class="lineno">  656</span>        config_reg-&gt;CONFIG_SETINTLVL = scilinREG-&gt;SETINTLVL; </div>
<div class="line"><span class="lineno">  657</span>        config_reg-&gt;CONFIG_FORMAT    = scilinREG-&gt;FORMAT; </div>
<div class="line"><span class="lineno">  658</span>        config_reg-&gt;CONFIG_BRS       = scilinREG-&gt;BRS; </div>
<div class="line"><span class="lineno">  659</span>        config_reg-&gt;CONFIG_PIO0      = scilinREG-&gt;PIO0; </div>
<div class="line"><span class="lineno">  660</span>        config_reg-&gt;CONFIG_PIO1      = scilinREG-&gt;PIO1; </div>
<div class="line"><span class="lineno">  661</span>        config_reg-&gt;CONFIG_PIO6      = scilinREG-&gt;PIO6; </div>
<div class="line"><span class="lineno">  662</span>        config_reg-&gt;CONFIG_PIO7      = scilinREG-&gt;PIO7;  </div>
<div class="line"><span class="lineno">  663</span>        config_reg-&gt;CONFIG_PIO8      = scilinREG-&gt;PIO8; </div>
<div class="line"><span class="lineno">  664</span>    }</div>
<div class="line"><span class="lineno">  665</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2452fb07e6ad52632e100fed774f9087" name="a2452fb07e6ad52632e100fed774f9087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2452fb07e6ad52632e100fed774f9087">&#9670;&#160;</a></span>sciReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sciReceive </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive Data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>- number of data words to transfer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>- pointer to data buffer to receive data</td></tr>
  </table>
  </dd>
</dl>
<p>Receive a block of 'length' bytes long and place it into the data buffer pointed to by 'data'. If interrupts have been enabled the data is received using interrupt mode, otherwise polling mode is used. In interrupt mode receive is setup and the routine returns immediately, sciReceive must not be called again until the transfer is complete, when the sciNotification callback will be called. In polling mode, sciReceive will not return until the transfer is complete. </p>
<div class="fragment"><div class="line"><span class="lineno">  449</span>{</div>
<div class="line"><span class="lineno">  450</span><span class="comment">/* USER CODE BEGIN (17) */</span></div>
<div class="line"><span class="lineno">  451</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">if</span> ((sci-&gt;SETINT &amp; (uint32)SCI_RX_INT) == (uint32)SCI_RX_INT)</div>
<div class="line"><span class="lineno">  454</span>    {</div>
<div class="line"><span class="lineno">  455</span>        <span class="comment">/* we are in interrupt mode */</span></div>
<div class="line"><span class="lineno">  456</span>        </div>
<div class="line"><span class="lineno">  457</span>        <span class="comment">/* clear error flags */</span></div>
<div class="line"><span class="lineno">  458</span>        sci-&gt;FLR = ((uint32) SCI_FE_INT | (uint32) SCI_OE_INT | (uint32) SCI_PE_INT);</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>        g_sciTransfer_t.rx_length = length;</div>
<div class="line"><span class="lineno">  461</span>        <span class="comment">/*SAFETYMCUSW 45 D MR:21.1 &lt;APPROVED&gt; &quot;Valid non NULL input parameters are only allowed in this driver&quot; */</span></div>
<div class="line"><span class="lineno">  462</span>        g_sciTransfer_t.rx_data   = data;</div>
<div class="line"><span class="lineno">  463</span>    }</div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  465</span>    {   </div>
<div class="line"><span class="lineno">  466</span>        <span class="comment">/*SAFETYMCUSW 30 S MR:12.2,12.3 &lt;APPROVED&gt; &quot;Used for data count in Transmit/Receive polling and Interrupt mode&quot; */</span></div>
<div class="line"><span class="lineno">  467</span>        <span class="keywordflow">while</span> (length &gt; 0U)</div>
<div class="line"><span class="lineno">  468</span>        {</div>
<div class="line"><span class="lineno">  469</span>            <span class="comment">/*SAFETYMCUSW 28 D MR:NA &lt;APPROVED&gt; &quot;Potentially infinite loop found - Hardware Status check for execution sequence&quot; */</span></div>
<div class="line"><span class="lineno">  470</span>            <span class="keywordflow">while</span> ((sci-&gt;FLR &amp; (uint32)SCI_RX_INT) == 0U) </div>
<div class="line"><span class="lineno">  471</span>            { </div>
<div class="line"><span class="lineno">  472</span>            } <span class="comment">/* Wait */</span></div>
<div class="line"><span class="lineno">  473</span>            <span class="comment">/*SAFETYMCUSW 45 D MR:21.1 &lt;APPROVED&gt; &quot;Valid non NULL input parameters are only allowed in this driver&quot; */</span></div>
<div class="line"><span class="lineno">  474</span>            *data = (uint8)(sci-&gt;RD &amp; 0x000000FFU);</div>
<div class="line"><span class="lineno">  475</span>            <span class="comment">/*SAFETYMCUSW 45 D MR:21.1 &lt;APPROVED&gt; &quot;Valid non NULL input parameters are only allowed in this driver&quot; */</span></div>
<div class="line"><span class="lineno">  476</span>            <span class="comment">/*SAFETYMCUSW 567 S MR:17.1,17.4 &lt;APPROVED&gt; &quot;Pointer operation required.&quot; */</span>                    </div>
<div class="line"><span class="lineno">  477</span>            data++;</div>
<div class="line"><span class="lineno">  478</span>            length--;</div>
<div class="line"><span class="lineno">  479</span>        }</div>
<div class="line"><span class="lineno">  480</span>    }</div>
<div class="line"><span class="lineno">  481</span><span class="comment">/* USER CODE BEGIN (18) */</span></div>
<div class="line"><span class="lineno">  482</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  483</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aec2932431dfdcdef7c3aba3da9cf4fe7" name="aec2932431dfdcdef7c3aba3da9cf4fe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec2932431dfdcdef7c3aba3da9cf4fe7">&#9670;&#160;</a></span>sciReceiveByte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 sciReceiveByte </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive Byte. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Received byte</dd></dl>
<p>Receives a single byte in polling mode. If there is not a byte in the receive buffer the routine will wait until one is received. Use sciIsRxReady to check to see if the buffer is full to avoid waiting. </p>
<div class="fragment"><div class="line"><span class="lineno">  417</span>{</div>
<div class="line"><span class="lineno">  418</span><span class="comment">/* USER CODE BEGIN (16) */</span></div>
<div class="line"><span class="lineno">  419</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    <span class="comment">/*SAFETYMCUSW 28 D MR:NA &lt;APPROVED&gt; &quot;Potentially infinite loop found - Hardware Status check for execution sequence&quot; */</span></div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">while</span> ((sci-&gt;FLR &amp; (uint32)SCI_RX_INT) == 0U) </div>
<div class="line"><span class="lineno">  423</span>    { </div>
<div class="line"><span class="lineno">  424</span>    } <span class="comment">/* Wait */</span></div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">return</span> (sci-&gt;RD &amp; (uint32)0x000000FFU);</div>
<div class="line"><span class="lineno">  427</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a36cb42a55bca0fe4e76f3b994fb6dfc4" name="a36cb42a55bca0fe4e76f3b994fb6dfc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36cb42a55bca0fe4e76f3b994fb6dfc4">&#9670;&#160;</a></span>sciRxError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 sciRxError </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return Rx Error flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The Rx error flags</dd></dl>
<p>Returns the Rx framing, overrun and parity errors flags, also clears the error flags before returning. </p>
<div class="fragment"><div class="line"><span class="lineno">  391</span>{</div>
<div class="line"><span class="lineno">  392</span>    uint32 status = (sci-&gt;FLR &amp; ((uint32)SCI_FE_INT | (uint32)SCI_OE_INT |(uint32)SCI_PE_INT));</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span><span class="comment">/* USER CODE BEGIN (15) */</span></div>
<div class="line"><span class="lineno">  395</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>    sci-&gt;FLR = ((uint32)SCI_FE_INT | (uint32)SCI_OE_INT | (uint32)SCI_PE_INT);</div>
<div class="line"><span class="lineno">  398</span>    <span class="keywordflow">return</span> status;</div>
<div class="line"><span class="lineno">  399</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a24e75961adf4102892d78e9620c042" name="a0a24e75961adf4102892d78e9620c042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a24e75961adf4102892d78e9620c042">&#9670;&#160;</a></span>sciSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sciSend </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send Data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>- number of data words to transfer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>- pointer to data to send</td></tr>
  </table>
  </dd>
</dl>
<p>Send a block of data pointed to by 'data' and 'length' bytes long. If interrupts have been enabled the data is sent using interrupt mode, otherwise polling mode is used. In interrupt mode transmission of the first byte is started and the routine returns immediately, sciSend must not be called again until the transfer is complete, when the sciNotification callback will be called. In polling mode, sciSend will not return until the transfer is complete.</p>
<dl class="section note"><dt>Note</dt><dd>if data word is less than 8 bits, then the data must be left aligned in the data byte. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  290</span>{</div>
<div class="line"><span class="lineno">  291</span>    uint8 txdata;</div>
<div class="line"><span class="lineno">  292</span>    </div>
<div class="line"><span class="lineno">  293</span><span class="comment">/* USER CODE BEGIN (11) */</span></div>
<div class="line"><span class="lineno">  294</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  295</span><span class="comment">/*SAFETYMCUSW 139 S MR:13.7 &lt;APPROVED&gt; &quot;Mode variable is configured in sciEnableNotification()&quot; */</span></div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">if</span> ((g_sciTransfer_t.mode &amp; (uint32)SCI_TX_INT) != 0U)</div>
<div class="line"><span class="lineno">  297</span>    {</div>
<div class="line"><span class="lineno">  298</span>        <span class="comment">/* we are in interrupt mode */</span></div>
<div class="line"><span class="lineno">  299</span>        </div>
<div class="line"><span class="lineno">  300</span>        g_sciTransfer_t.tx_length = length;</div>
<div class="line"><span class="lineno">  301</span>        <span class="comment">/*SAFETYMCUSW 45 D MR:21.1 &lt;APPROVED&gt; &quot;Valid non NULL input parameters are only allowed in this driver&quot; */</span></div>
<div class="line"><span class="lineno">  302</span>        g_sciTransfer_t.tx_data   = data;</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>        <span class="comment">/* start transmit by sending first byte */</span>        </div>
<div class="line"><span class="lineno">  305</span>        <span class="comment">/*SAFETYMCUSW 45 D MR:21.1 &lt;APPROVED&gt; &quot;Valid non NULL input parameters are only allowed in this driver&quot; */</span></div>
<div class="line"><span class="lineno">  306</span>        txdata = *g_sciTransfer_t.tx_data;</div>
<div class="line"><span class="lineno">  307</span>        sci-&gt;TD     = (uint32)(txdata);</div>
<div class="line"><span class="lineno">  308</span>        <span class="comment">/*SAFETYMCUSW 45 D MR:21.1 &lt;APPROVED&gt; &quot;Valid non NULL input parameters are only allowed in this driver&quot; */</span></div>
<div class="line"><span class="lineno">  309</span>        <span class="comment">/*SAFETYMCUSW 567 S MR:17.1,17.4 &lt;APPROVED&gt; &quot;Pointer increment needed&quot; */</span></div>
<div class="line"><span class="lineno">  310</span>        g_sciTransfer_t.tx_data++;</div>
<div class="line"><span class="lineno">  311</span>        sci-&gt;SETINT = (uint32)SCI_TX_INT;</div>
<div class="line"><span class="lineno">  312</span>    }</div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  314</span>    {</div>
<div class="line"><span class="lineno">  315</span>        <span class="comment">/* send the data */</span></div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">while</span> (length &gt; 0U)</div>
<div class="line"><span class="lineno">  317</span>        {</div>
<div class="line"><span class="lineno">  318</span>            <span class="comment">/*SAFETYMCUSW 28 D MR:NA &lt;APPROVED&gt; &quot;Potentially infinite loop found - Hardware Status check for execution sequence&quot; */</span></div>
<div class="line"><span class="lineno">  319</span>            <span class="keywordflow">while</span> ((sci-&gt;FLR &amp; (uint32)SCI_TX_INT) == 0U)</div>
<div class="line"><span class="lineno">  320</span>            { </div>
<div class="line"><span class="lineno">  321</span>            } <span class="comment">/* Wait */</span></div>
<div class="line"><span class="lineno">  322</span>            <span class="comment">/*SAFETYMCUSW 45 D MR:21.1 &lt;APPROVED&gt; &quot;Valid non NULL input parameters are only allowed in this driver&quot; */</span></div>
<div class="line"><span class="lineno">  323</span>            txdata = *data;</div>
<div class="line"><span class="lineno">  324</span>            sci-&gt;TD = (uint32)(txdata);</div>
<div class="line"><span class="lineno">  325</span>            <span class="comment">/*SAFETYMCUSW 45 D MR:21.1 &lt;APPROVED&gt; &quot;Valid non NULL input parameters are only allowed in this driver&quot; */</span></div>
<div class="line"><span class="lineno">  326</span>            <span class="comment">/*SAFETYMCUSW 567 S MR:17.1,17.4 &lt;APPROVED&gt; &quot;Pointer increment needed&quot; */</span></div>
<div class="line"><span class="lineno">  327</span>            data++;</div>
<div class="line"><span class="lineno">  328</span>            length--;</div>
<div class="line"><span class="lineno">  329</span>        }</div>
<div class="line"><span class="lineno">  330</span>    }</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span><span class="comment">/* USER CODE BEGIN (12) */</span></div>
<div class="line"><span class="lineno">  333</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  334</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8803e9ddc05ea93c80a768d0fc0eab16" name="a8803e9ddc05ea93c80a768d0fc0eab16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8803e9ddc05ea93c80a768d0fc0eab16">&#9670;&#160;</a></span>sciSendByte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sciSendByte </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send Byte. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">byte</td><td>- byte to transfer</td></tr>
  </table>
  </dd>
</dl>
<p>Sends a single byte in polling mode, will wait in the routine until the transmit buffer is empty before sending the byte. Use sciIsTxReady to check for Tx buffer empty before calling sciSendByte to avoid waiting. </p>
<div class="fragment"><div class="line"><span class="lineno">  253</span>{</div>
<div class="line"><span class="lineno">  254</span><span class="comment">/* USER CODE BEGIN (9) */</span></div>
<div class="line"><span class="lineno">  255</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="comment">/*SAFETYMCUSW 28 D MR:NA &lt;APPROVED&gt; &quot;Potentially infinite loop found - Hardware Status check for execution sequence&quot; */</span></div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">while</span> ((sci-&gt;FLR &amp; (uint32)SCI_TX_INT) == 0U) </div>
<div class="line"><span class="lineno">  259</span>    { </div>
<div class="line"><span class="lineno">  260</span>    } <span class="comment">/* Wait */</span></div>
<div class="line"><span class="lineno">  261</span>    sci-&gt;TD = byte;</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span><span class="comment">/* USER CODE BEGIN (10) */</span></div>
<div class="line"><span class="lineno">  264</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  265</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a35d4f604e2151ca596b1e0fcca6f5606" name="a35d4f604e2151ca596b1e0fcca6f5606"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d4f604e2151ca596b1e0fcca6f5606">&#9670;&#160;</a></span>sciSetBaudrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sciSetBaudrate </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>baud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change baudrate at runtime. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">baud</td><td>- baudrate in Hz</td></tr>
  </table>
  </dd>
</dl>
<p>Change the SCI baudrate at runtime. </p>
<div class="fragment"><div class="line"><span class="lineno">  199</span>{</div>
<div class="line"><span class="lineno">  200</span>    float64 vclk = 80.000 * 1000000.0;</div>
<div class="line"><span class="lineno">  201</span>    uint32 f = ((sci-&gt;GCR1 &amp; 2U) == 2U) ? 16U : 1U;</div>
<div class="line"><span class="lineno">  202</span>    uint32 temp;</div>
<div class="line"><span class="lineno">  203</span>    float64 temp2;</div>
<div class="line"><span class="lineno">  204</span><span class="comment">/* USER CODE BEGIN (6) */</span></div>
<div class="line"><span class="lineno">  205</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>    <span class="comment">/*SAFETYMCUSW 96 S MR:6.1 &lt;APPROVED&gt; &quot;Calculations including int and float cannot be avoided&quot; */</span></div>
<div class="line"><span class="lineno">  208</span>    temp = (f*(baud));</div>
<div class="line"><span class="lineno">  209</span>    temp2 = ((vclk)/((float64)temp))-1U;</div>
<div class="line"><span class="lineno">  210</span>    temp2 = floor(temp2 + 0.5F);        <span class="comment">/* Rounding-off to the closest integer */</span></div>
<div class="line"><span class="lineno">  211</span>    sci-&gt;BRS = (uint32)((uint32)temp2 &amp; 0x00FFFFFFU);</div>
<div class="line"><span class="lineno">  212</span>    </div>
<div class="line"><span class="lineno">  213</span><span class="comment">/* USER CODE BEGIN (7) */</span></div>
<div class="line"><span class="lineno">  214</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  215</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bf2ae4e9ca71949190dd967b406b931" name="a2bf2ae4e9ca71949190dd967b406b931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf2ae4e9ca71949190dd967b406b931">&#9670;&#160;</a></span>sciSetFunctional()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sciSetFunctional </td>
          <td>(</td>
          <td class="paramtype">sciBASE_t *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change functional behavior of pins at runtime. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sci</td><td>- sci module base address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>- Value to write to PIO0 register</td></tr>
  </table>
  </dd>
</dl>
<p>Change the value of the PCPIO0 register at runtime, this allows to dynamically change the functionality of the SCI pins between functional and GIO mode. </p>
<div class="fragment"><div class="line"><span class="lineno">  177</span>{</div>
<div class="line"><span class="lineno">  178</span><span class="comment">/* USER CODE BEGIN (4) */</span></div>
<div class="line"><span class="lineno">  179</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>    sci-&gt;PIO0 = port;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span><span class="comment">/* USER CODE BEGIN (5) */</span></div>
<div class="line"><span class="lineno">  184</span><span class="comment">/* USER CODE END */</span></div>
<div class="line"><span class="lineno">  185</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
